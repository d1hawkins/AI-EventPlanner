<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="AI Event Planner SaaS - Support">
    <title>Support - AI Event Planner SaaS</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <link rel="stylesheet" href="/saas/css/styles.css">
</head>
<body class="d-flex flex-column min-vh-100">
    <a href="#main-content" class="visually-hidden-focusable skip-link">Skip to main content</a>
    <div class="d-flex">
        <!-- Sidebar -->
        <aside class="sidebar" role="navigation" aria-label="Main Navigation">
            <div class="sidebar-brand d-flex align-items-center justify-content-center">
                <div class="sidebar-brand-text">AI Event Planner</div>
            </div>

            <hr class="sidebar-divider">

            <div class="sidebar-heading" id="main-nav-heading">
                Main
            </div>

            <ul class="nav flex-column" aria-labelledby="main-nav-heading">
                <li class="nav-item">
                    <a class="nav-link" href="/saas/dashboard.html" aria-label="Dashboard">
                        <i class="bi bi-speedometer2" aria-hidden="true"></i>
                        Dashboard
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/saas/events.html" aria-label="Events">
                        <i class="bi bi-calendar-event" aria-hidden="true"></i>
                        Events
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/saas/templates.html" aria-label="Templates">
                        <i class="bi bi-file-earmark-text" aria-hidden="true"></i>
                        Templates
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/saas/agents.html" aria-label="AI Agents">
                        <i class="bi bi-robot" aria-hidden="true"></i>
                        AI Agents
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/saas/team.html" aria-label="Team">
                        <i class="bi bi-people" aria-hidden="true"></i>
                        Team
                    </a>
                </li>
            </ul>

            <hr class="sidebar-divider">

            <div class="sidebar-heading" id="management-nav-heading">
                Management
            </div>

            <ul class="nav flex-column" aria-labelledby="management-nav-heading">
                <li class="nav-item">
                    <a class="nav-link" href="/saas/subscription.html" aria-label="Subscription">
                        <i class="bi bi-credit-card" aria-hidden="true"></i>
                        Subscription
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/saas/settings.html" aria-label="Settings">
                        <i class="bi bi-gear" aria-hidden="true"></i>
                        Settings
                    </a>
                </li>
            </ul>

            <hr class="sidebar-divider">

            <div class="sidebar-heading" id="help-nav-heading">
                Help
            </div>

            <ul class="nav flex-column" aria-labelledby="help-nav-heading">
                <li class="nav-item">
                    <a class="nav-link active" href="/saas/support.html" aria-current="page" aria-label="Support">
                        <i class="bi bi-question-circle" aria-hidden="true"></i>
                        Support
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/saas/documentation.html" aria-label="Documentation">
                        <i class="bi bi-file-text" aria-hidden="true"></i>
                        Documentation
                    </a>
                </li>
            </ul>

            <hr class="sidebar-divider">

            <div class="text-center d-none d-md-inline mt-3">
                <button class="btn rounded-circle border-0" id="sidebarToggle" aria-label="Toggle Sidebar" aria-expanded="true">
                    <i class="bi bi-arrow-left-circle" aria-hidden="true"></i>
                </button>
            </div>
        </aside>

        <!-- Content Wrapper -->
        <div class="dashboard-content">
            <!-- Topbar -->
            <nav class="navbar navbar-expand navbar-light bg-white topbar mb-4 static-top shadow" aria-label="Top Navigation">
                <button id="sidebarToggleTop" class="btn btn-link d-md-none rounded-circle mr-3" aria-label="Toggle Sidebar">
                    <i class="bi bi-list" aria-hidden="true"></i>
                </button>

                <ul class="navbar-nav ms-auto">
                    <li class="nav-item dropdown no-arrow">
                        <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false" aria-label="User Menu">
                            <span class="mr-2 d-none d-lg-inline text-gray-600 small">User</span>
                            <i class="bi bi-person-circle" aria-hidden="true"></i>
                        </a>
                        <div class="dropdown-menu dropdown-menu-right shadow animated--grow-in" aria-labelledby="userDropdown">
                            <a class="dropdown-item" href="/saas/settings.html">
                                <i class="bi bi-gear me-2" aria-hidden="true"></i>
                                Settings
                            </a>
                            <div class="dropdown-divider"></div>
                            <a class="dropdown-item" href="#" id="logoutBtn">
                                <i class="bi bi-box-arrow-right me-2" aria-hidden="true"></i>
                                Logout
                            </a>
                        </div>
                    </li>
                </ul>
            </nav>

            <!-- Main Content -->
            <main id="main-content" class="container-fluid" role="main">
                <!-- Page Heading -->
                <div class="d-sm-flex align-items-center justify-content-between mb-4">
                    <h1 class="h3 mb-0 text-gray-800">Support Center</h1>
                </div>

                <!-- Alert Container -->
                <div id="alertContainer"></div>

                <!-- Support Overview -->
                <div class="row mb-4">
                    <div class="col-lg-3 col-md-6 mb-4">
                        <div class="card border-left-primary shadow h-100 py-2">
                            <div class="card-body">
                                <div class="row no-gutters align-items-center">
                                    <div class="col mr-2">
                                        <div class="text-xs font-weight-bold text-primary text-uppercase mb-1">Email Support</div>
                                        <div class="h6 mb-0 font-weight-bold text-gray-800">support@aieventplanner.com</div>
                                    </div>
                                    <div class="col-auto">
                                        <i class="bi bi-envelope-fill text-gray-300" style="font-size: 2rem;" aria-hidden="true"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-3 col-md-6 mb-4">
                        <div class="card border-left-success shadow h-100 py-2">
                            <div class="card-body">
                                <div class="row no-gutters align-items-center">
                                    <div class="col mr-2">
                                        <div class="text-xs font-weight-bold text-success text-uppercase mb-1">Response Time</div>
                                        <div class="h6 mb-0 font-weight-bold text-gray-800">Within 24 hours</div>
                                    </div>
                                    <div class="col-auto">
                                        <i class="bi bi-clock-fill text-gray-300" style="font-size: 2rem;" aria-hidden="true"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-3 col-md-6 mb-4">
                        <div class="card border-left-info shadow h-100 py-2">
                            <div class="card-body">
                                <div class="row no-gutters align-items-center">
                                    <div class="col mr-2">
                                        <div class="text-xs font-weight-bold text-info text-uppercase mb-1">Knowledge Base</div>
                                        <div class="h6 mb-0 font-weight-bold text-gray-800">
                                            <a href="/saas/documentation.html" class="text-decoration-none">View Articles</a>
                                        </div>
                                    </div>
                                    <div class="col-auto">
                                        <i class="bi bi-book-fill text-gray-300" style="font-size: 2rem;" aria-hidden="true"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-3 col-md-6 mb-4">
                        <div class="card border-left-warning shadow h-100 py-2">
                            <div class="card-body">
                                <div class="row no-gutters align-items-center">
                                    <div class="col mr-2">
                                        <div class="text-xs font-weight-bold text-warning text-uppercase mb-1">System Status</div>
                                        <div class="h6 mb-0 font-weight-bold text-gray-800">
                                            <span class="badge bg-success">All Systems Operational</span>
                                        </div>
                                    </div>
                                    <div class="col-auto">
                                        <i class="bi bi-check-circle-fill text-gray-300" style="font-size: 2rem;" aria-hidden="true"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <!-- Contact Form -->
                    <div class="col-lg-6 mb-4">
                        <div class="card shadow">
                            <div class="card-header py-3">
                                <h6 class="m-0 font-weight-bold text-primary">Submit a Support Request</h6>
                            </div>
                            <div class="card-body">
                                <form id="supportForm">
                                    <div class="mb-3">
                                        <label for="subject" class="form-label">Subject <span class="text-danger">*</span></label>
                                        <input type="text" class="form-control" id="subject" name="subject" required>
                                    </div>

                                    <div class="mb-3">
                                        <label for="category" class="form-label">Category <span class="text-danger">*</span></label>
                                        <select class="form-select" id="category" name="category" required>
                                            <option value="">Select a category</option>
                                            <option value="technical">Technical Issue</option>
                                            <option value="billing">Billing Question</option>
                                            <option value="feature">Feature Request</option>
                                            <option value="account">Account Management</option>
                                            <option value="other">Other</option>
                                        </select>
                                    </div>

                                    <div class="mb-3">
                                        <label for="priority" class="form-label">Priority <span class="text-danger">*</span></label>
                                        <select class="form-select" id="priority" name="priority" required>
                                            <option value="">Select priority</option>
                                            <option value="low">Low - General inquiry</option>
                                            <option value="medium">Medium - Issue affecting work</option>
                                            <option value="high">High - Blocking issue</option>
                                            <option value="urgent">Urgent - Critical system down</option>
                                        </select>
                                    </div>

                                    <div class="mb-3">
                                        <label for="description" class="form-label">Description <span class="text-danger">*</span></label>
                                        <textarea class="form-control" id="description" name="description" rows="6" required placeholder="Please describe your issue in detail..."></textarea>
                                        <div class="form-text">Include any error messages, steps to reproduce, and what you expected to happen.</div>
                                    </div>

                                    <div class="mb-3">
                                        <label for="attachment" class="form-label">Attachment (Optional)</label>
                                        <input type="file" class="form-control" id="attachment" name="attachment" accept="image/*,.pdf,.doc,.docx">
                                        <div class="form-text">Supported formats: Images, PDF, Word documents (Max 10MB)</div>
                                    </div>

                                    <button type="submit" class="btn btn-primary w-100">
                                        <i class="bi bi-send me-2" aria-hidden="true"></i>Submit Request
                                    </button>
                                </form>
                            </div>
                        </div>
                    </div>

                    <!-- FAQ Section -->
                    <div class="col-lg-6 mb-4">
                        <div class="card shadow">
                            <div class="card-header py-3">
                                <h6 class="m-0 font-weight-bold text-primary">Frequently Asked Questions</h6>
                            </div>
                            <div class="card-body">
                                <div class="accordion" id="faqAccordion">
                                    <div class="accordion-item">
                                        <h2 class="accordion-header" id="faq1">
                                            <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1" aria-expanded="true" aria-controls="collapse1">
                                                How do I create my first event?
                                            </button>
                                        </h2>
                                        <div id="collapse1" class="accordion-collapse collapse show" aria-labelledby="faq1" data-bs-parent="#faqAccordion">
                                            <div class="accordion-body">
                                                Navigate to the Events page and click "Create New Event". Fill in the event details including title, date, location, and description. You can also use our AI assistant to help plan your event.
                                            </div>
                                        </div>
                                    </div>

                                    <div class="accordion-item">
                                        <h2 class="accordion-header" id="faq2">
                                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2" aria-expanded="false" aria-controls="collapse2">
                                                How do AI agents work?
                                            </button>
                                        </h2>
                                        <div id="collapse2" class="accordion-collapse collapse" aria-labelledby="faq2" data-bs-parent="#faqAccordion">
                                            <div class="accordion-body">
                                                AI agents are specialized assistants that help with different aspects of event planning. The Coordinator Agent orchestrates the process, while specialized agents handle resources, finances, marketing, and more. Simply start a conversation and describe what you need help with.
                                            </div>
                                        </div>
                                    </div>

                                    <div class="accordion-item">
                                        <h2 class="accordion-header" id="faq3">
                                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3" aria-expanded="false" aria-controls="collapse3">
                                                Can I invite team members?
                                            </button>
                                        </h2>
                                        <div id="collapse3" class="accordion-collapse collapse" aria-labelledby="faq3" data-bs-parent="#faqAccordion">
                                            <div class="accordion-body">
                                                Yes! Go to the Team page and click "Invite Member". You can send individual invitations or bulk upload via CSV. Team members can have different roles: Owner, Admin, or Member, each with different permissions.
                                            </div>
                                        </div>
                                    </div>

                                    <div class="accordion-item">
                                        <h2 class="accordion-header" id="faq4">
                                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4" aria-expanded="false" aria-controls="collapse4">
                                                What subscription plans are available?
                                            </button>
                                        </h2>
                                        <div id="collapse4" class="accordion-collapse collapse" aria-labelledby="faq4" data-bs-parent="#faqAccordion">
                                            <div class="accordion-body">
                                                We offer three plans: Free (basic features, 3 events/month), Professional ($29/month, unlimited events, all AI agents), and Enterprise (custom pricing, dedicated support, advanced features). Visit the Subscription page for details.
                                            </div>
                                        </div>
                                    </div>

                                    <div class="accordion-item">
                                        <h2 class="accordion-header" id="faq5">
                                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse5" aria-expanded="false" aria-controls="collapse5">
                                                How do I export my event data?
                                            </button>
                                        </h2>
                                        <div id="collapse5" class="accordion-collapse collapse" aria-labelledby="faq5" data-bs-parent="#faqAccordion">
                                            <div class="accordion-body">
                                                You can export events to .ics format from the Events page to import into Google Calendar, Outlook, or other calendar applications. Agent conversations can be exported as PDF or plain text from the AI Agents page.
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="mt-4 text-center">
                                    <a href="/saas/documentation.html" class="btn btn-outline-primary">
                                        <i class="bi bi-book me-2" aria-hidden="true"></i>View All Documentation
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/saas/js/app.js"></script>
    <script>
        // Support form submission
        document.getElementById('supportForm').addEventListener('submit', async function(e) {
            e.preventDefault();

            const formData = new FormData(this);
            const data = Object.fromEntries(formData.entries());

            try {
                // Show loading state
                const submitBtn = this.querySelector('button[type="submit"]');
                const originalText = submitBtn.innerHTML;
                submitBtn.disabled = true;
                submitBtn.innerHTML = '<span class="spinner-border spinner-border-sm me-2"></span>Submitting...';

                // TODO: Implement actual API call
                // For now, simulate submission
                await new Promise(resolve => setTimeout(resolve, 1000));

                // Show success message
                const alertContainer = document.getElementById('alertContainer');
                alertContainer.innerHTML = `
                    <div class="alert alert-success alert-dismissible fade show" role="alert">
                        <strong>Success!</strong> Your support request has been submitted. We'll respond within 24 hours.
                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                    </div>
                `;

                // Reset form
                this.reset();

                // Restore button
                submitBtn.disabled = false;
                submitBtn.innerHTML = originalText;

                // Scroll to alert
                alertContainer.scrollIntoView({ behavior: 'smooth' });
            } catch (error) {
                console.error('Error submitting support request:', error);

                const alertContainer = document.getElementById('alertContainer');
                alertContainer.innerHTML = `
                    <div class="alert alert-danger alert-dismissible fade show" role="alert">
                        <strong>Error!</strong> Failed to submit support request. Please try again or email us directly.
                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                    </div>
                `;

                // Restore button
                const submitBtn = this.querySelector('button[type="submit"]');
                submitBtn.disabled = false;
                submitBtn.innerHTML = '<i class="bi bi-send me-2"></i>Submit Request';
            }
        });
    </script>
</body>
</html>
